extends _wrapper.pug
include _mixins/vector_field.pug

block content
  h3 Managing Layout "#{layout.title}"


  h3 Positions
  table
    thead
      th name
      th rotation
      th translation
      th id
      th camera_id
      th camera_uuid
    tbody
      - let i = 0;
      each position in layout.positions
        tr
          form(action=`/layout/${layout.id}/position/${position.id}?_method=PUT` method="POST")
            td= i
            td
              +vector_field("rotation", position.rotation)
            td
              +vector_field("translation", position.translation)
            td= position.id
            td= position.camera_id
            td= position.camera_uuid
            td
              input(type="submit" value="Update")
        - i++;

  br
  h4 Create a Position

  form(action=`/layout/${layout.id}/position` method="POST")
    table
      thead
        th Rotation
        th Translation
      tbody
        tr
          td
            +vector_field("rotation")
          td
            +vector_field("translation")
          td
            input(type="submit" value="Create")

  br

  hr

  h3 Captures
  a(href=`/layout/${layout.id}/capture/new`) Start a Capture
    br
    br
    each capture in captures
      div(style="float: left; width: 25%;")
        a(href=`/layout/${layout.id}/capture/${capture.id}` style="display: block;")
          img(
            src=`/files/${capture.s3Key}`
            style="height: auto; width: 100%"
            title=capture.createdAt
          )

